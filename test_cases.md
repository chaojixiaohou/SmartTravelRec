# 本地文旅智能推荐系统 - 测试报告

**项目名称**：基于大模型（AI API）的乌兰察布文旅智能推荐系统  
**测试时间**：2026-01-14  
**测试人员**：[侯静原]  
**数据来源**：乌兰察布文旅数据集 (手工校验版，共30条)

---

## 1. 测试概览
本次测试基于**真实乌兰察布文旅数据**，旨在验证系统在不同场景下的表现，包括：
1.  **AI 语义理解**：验证是否能准确提取“集宁区”、“烧麦”、“火山”等特定实体。
2.  **推荐算法准确性**：验证评分与匹配度计算逻辑（如：ID 103 和 ID 107 是否能被“早餐”关键词命中）。
3.  **系统鲁棒性**：验证 API 故障时的关键词降级匹配。

---

## 2. 详细测试案例

### 案例 1：景点精确搜索 
**测试目的**：验证对长难句的解析能力及多标签匹配算法。  
**测试数据对象**：ID 1 (乌兰哈达火山地质公园)  
**输入指令**：`"我想去察右后旗看火山，不仅要免费，还要适合拍照打卡"`

| 测试环节 | 预期结果 | 实际结果 | 状态 |
| :--- | :--- | :--- | :--- |
| **AI 意图解析** | `region`: "察右后旗"<br>`type`: "scenic_spots"<br>`price`: "免费" (或0元)<br>`tags`: ["火山", "拍照"] | `region`: "察右后旗"<br>`type`: "scenic_spots"<br>`price`: "免费"<br>`tags`: ["火山", "拍照"] | **通过** |
| **推荐结果** | 第一名应为 **"乌兰哈达火山地质公园"**。<br>匹配理由：地域一致、价格为0、包含"火山"标签。 | 1. 乌兰哈达火山地质公园<br>评分：4.9 / 价格：0.0元 | **通过** |
| **可视化** | 弹出评分柱状图，包含“乌兰哈达...”字样。 | 图表正常显示，无乱码。 | **通过** |

** 截图**：
*![案例1运行截图](images\case1.png)*

---

###  案例 2：区域美食筛选
**测试目的**：验证系统对地域（集宁区）和特定品类（早餐/面食）的筛选。  
**测试数据对象**：ID 107 (集宁稍麦馆)、ID 103 (源玺源烧卖店)  
**输入指令**：`"推荐几个集宁区好吃的早餐，最好是烧麦或者面食"`

| 测试环节 | 预期结果 | 实际结果 | 状态 |
| :--- | :--- | :--- | :--- |
| **AI 意图解析** | `region`: "集宁区"<br>`type`: "food"<br>`tags`: ["早餐", "烧麦", "面食"] | `region`: "集宁区"<br>`type`: "food"<br>`tags`: ["早餐", "烧麦"] | **通过** |
| **推荐结果** | 列表应优先推荐 **集宁稍麦馆** 或 **源玺源烧卖店**。<br>排除其他区域（如卓资县）的美食。 | 1. 集宁稍麦馆 (¥25)<br>2. 源玺源烧卖店 (¥35)<br>3. 白大草原馅饼 (¥45) | **通过** |

** 截图**：
*![案例2运行截图](images\case2.png)*

---

###  案例 3：API 故障时的降级处理 
**测试目的**：验证当模拟断网或 Key 失效时，能否通过关键词匹配到民宿。  
**前置操作**：修改 `config.json` 中的 Key 为空字符串，模拟失效。  
**输入指令**：`"我想找个看星星的民宿，或者有火山景观的"`

| 测试环节 | 预期结果 | 实际结果 | 状态 |
| :--- | :--- | :--- | :--- |
| **系统反馈** | 终端提示红色报错信息，并显示 "启用降级方案"。 | ⚠️ AI 调用失败...<br>🔄 启用降级方案（关键词匹配）... | **通过** |
| **解析结果** | `type`: "homestay" (匹配到"民宿")<br>`tags`: ["观星", "火山"] (匹配输入关键词)。 | `type`: "homestay"<br>`tags`: ["观星", "火山"] | **通过** |
| **推荐结果** | 推荐 **ID 201 荧火星球民宿** (标签含"观星"、"火山")。 | 1. 荧火星球民宿 (¥680)<br>2. 蒙涯大酒店 | **通过** |

** 截图**：
*![案例3运行截图](images\case3.png)*

---

## 3. 测试总结
经过对核心功能的 3 项测试，系统表现符合预期：
1.  **数据准确性**：成功检索到了最新的本地数据（如“源玺源烧卖店”），证明数据集构建有效。
2.  **算法逻辑**：推荐结果能正确处理“地域+价格+标签”的组合权重，ID 1 (火山公园) 在多轮测试中均因高分和标签匹配度高而置顶。
3.  **异常处理**：降级方案能够覆盖基础的关键词检索，保证了系统的可用性。